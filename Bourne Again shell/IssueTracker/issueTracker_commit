#!/bin/bash

usage="\nUsage: issueTracker_commitShow (all|scanned)  \n"

# if no args specified, show usage
if [ $# -le 0 ]; then
  echo -e $usage
  exit 1
fi

ip="10.141.221.80"
port="8102"
baseDir="$ISSUETRACKER_HOME/bin"
token=`cat $baseDir/authentication`
project_id=`cat $baseDir/project`
option=$1

case $option in

  (all)
        curl -H "token:$token" http://$ip:$port/commit?projectId=$project_id -s | jq -r
        exit 1
        ;;
  (scaned)
   # need Formatted output display
    curl -H "token:$token" http://$ip:8003/scan/commits?project_id=$project_id -s | jq -r
        exit 1
    ;;
  (*)
   ## /commitDate/{commit_id}   /tillCommitDate/{repo_id}
        echo -e "No option $1"
    echo -e $usage
    exit 1
    ;;

esac
